import{_ as e}from"./0ok-181835d1.js";import{_ as c}from"./0内容列表-目录-63164f69.js";import{_ as i,o,c as t,a}from"./app-c80e1060.js";const l="/assets/0添加数据-98f9783f.png",s="/assets/0添加数据1-58761b8f.png",r="/assets/0全局设置-c9b489d4.png",n="/assets/0导出数据1-52536232.png",d="/assets/0导出SHP设置-95883050.png",h="/assets/0报备导入_字段-c1a75669.png",p="/assets/0报备导出-fcd6a74d.png",m={},u=a('<h1 id="数据交互" tabindex="-1"><a class="header-anchor" href="#数据交互" aria-hidden="true">#</a> 数据交互</h1><p>数据交互主要处理矢量数据、属性数据及一些自定义数据的读写，软件支持多种格式：</p><table><thead><tr><th>名称</th><th>后缀</th><th>读</th><th>写</th><th>说明</th></tr></thead><tbody><tr><td><code>ESRI Shapefile</code></td><td><code>shp</code> <code>shx</code> <code>dbf</code> <code>cpg</code></td><td><img src="'+e+'" alt="image"></td><td><img src="'+e+'" alt="image"></td><td></td></tr><tr><td><code>FileGDB</code></td><td><code>gdb</code></td><td><img src="'+e+'" alt="image"></td><td><img src="'+e+'" alt="image"></td><td></td></tr><tr><td><code>Keyhole Markup Language</code></td><td><code>kml</code> <code>kmz</code></td><td><img src="'+e+'" alt="image"></td><td><img src="'+e+'" alt="image"></td><td></td></tr><tr><td><code>Excel</code></td><td><code>xlsx</code> <code>xls</code></td><td><img src="'+e+'" alt="image"></td><td><img src="'+e+'" alt="image"></td><td>导出格式为<code>xlsx</code></td></tr><tr><td><code>GeoJSON</code></td><td><code>json</code> <code>geojson</code></td><td><img src="'+e+'" alt=""></td><td><img src="'+e+'" alt="image"></td><td></td></tr><tr><td><code>Personal GeoDatabase</code></td><td><code>mdb</code></td><td><img src="'+e+'" alt="image"></td><td></td><td></td></tr><tr><td><code>Comma Separated Value</code></td><td><code>csv</code> <code>csvt</code></td><td><img src="'+e+'" alt="image"></td><td><img src="'+e+'" alt="image"></td><td></td></tr><tr><td><code>GeoPackage</code></td><td><code>gpkg</code></td><td><img src="'+e+'" alt="image"></td><td><img src="'+e+'" alt="image"></td><td></td></tr><tr><td><code>Sqlite</code></td><td><code>sqlite</code> <code>db</code></td><td><img src="'+e+'" alt="image"></td><td><img src="'+e+'" alt="image"></td><td></td></tr></tbody></table><h2 id="导入数据" tabindex="-1"><a class="header-anchor" href="#导入数据" aria-hidden="true">#</a> 导入数据</h2><p>将外部数据导入到 <code>AutoCAD</code> 中，支持 <code>Shp</code> <code>Gdb</code> <code>Kml</code> <code>Xlsx</code> <code>GeoJson</code> 等，加载方法如下：</p><h4 id="在目录中加载" tabindex="-1"><a class="header-anchor" href="#在目录中加载" aria-hidden="true">#</a> 在目录中加载</h4><p>单击 <code>内容列表 &gt; 目录</code> ，在列表中找到需要加载的图层，鼠标左键双击即可加载；</p><p><img src="'+c+'" alt="image"></p><h4 id="在图层列表中加载" tabindex="-1"><a class="header-anchor" href="#在图层列表中加载" aria-hidden="true">#</a> 在图层列表中加载</h4><p><code>图层根节点右键 &gt; 添加数据</code>，浏览并选择需要加载的数据即可；</p><p><img src="'+l+'" alt="image"></p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>在表格根节点右键添加数据，可将矢量数据的属性表添加到CAD中。</p></div><h4 id="拖拽加载" tabindex="-1"><a class="header-anchor" href="#拖拽加载" aria-hidden="true">#</a> 拖拽加载</h4><p>对于 <code>Shapefile</code>、<code>GeoJson</code> 等单图层文件，可以将 <code>shp</code> <code>json</code> 文件直接拖动到图层面板加载；</p><p><img src="'+s+'" alt="image"></p><h4 id="要素加载设置" tabindex="-1"><a class="header-anchor" href="#要素加载设置" aria-hidden="true">#</a> 要素加载设置</h4><p>命令 <code>GCC</code> ，可对要素加载时的一些行为进行设置：</p><p><img src="'+r+'" alt="image"></p><ul><li>面转为 <ul><li>多段线：面转为闭合多段线，多部件面则转为由多段线构成的块，可通过多部件工具进行编辑。</li><li>填充：多边形会被转为填充（<code>Hatch</code>）,该方案效率较低。</li></ul></li><li>字段 <ul><li>添加ID字段：勾选后会强制为导入的数据添加名为 <code>OBJECTID</code> 的字段。</li><li>忽略Kml字段：Kml可能会有一些默认字段是用户不感兴趣的，可通过此设置忽略。</li></ul></li></ul><div class="custom-container warning"><p class="custom-container-title">注意</p><ul><li>若当前DWG定义了空间参考（投影），且所加载数据的投影和投影不一致，软件会提示是否进行投影转换，选择 <code>是</code>，软件会将数据转换到和DWG一致的投影后再导入。</li><li>导入数据是把外部数据转换为 <code>CAD</code> 的图元，所以在 <code>CAD</code> 中编辑并<strong>不会修改</strong>外部数据；</li><li>字段名中不支持的字符会被替换为下划线；</li></ul></div><h2 id="导出数据" tabindex="-1"><a class="header-anchor" href="#导出数据" aria-hidden="true">#</a> 导出数据</h2><p>将 <code>AutoCAD</code> 中的数据转换为其他格式，支持导出 <code>Shp</code> <code>Gdb</code> <code>Kml</code> <code>Xlsx</code> <code>GeoJson</code> 等，方法如下：</p><h4 id="多个图层导出" tabindex="-1"><a class="header-anchor" href="#多个图层导出" aria-hidden="true">#</a> 多个图层导出</h4><p><code>图层根节点右键 &gt; 导出</code>，选择需要的格式；</p><p><img src="'+n+'" alt="image"></p><p>勾选要导出的图层和要素类型，可一次勾选多个 <code>CAD</code> 图层</p><p>​ <img src="'+d+'" alt="image"></p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>导出界面的右下角有下拉箭头，点击可进行详细设置。</li><li>针对不同的格式有不同的导出选项，有些是必填项，如 <code>KML</code> 的坐标系，输出时注意检查。</li><li>工具箱中的 <code>导出XXX</code> 及对应快捷命令具有相同效果</li></ul></div><h4 id="单个图层导出" tabindex="-1"><a class="header-anchor" href="#单个图层导出" aria-hidden="true">#</a> 单个图层导出</h4><p><code>图层节点右键 &gt; 导出 &gt; 选择目标格式 &gt; 勾选要导出的图层和要素类型</code>，此方法一次导出单个 <code>CAD</code> 图层；</p><p><img src="'+d+`" alt="image"></p><h4 id="坐标系和重投影" tabindex="-1"><a class="header-anchor" href="#坐标系和重投影" aria-hidden="true">#</a> 坐标系和重投影</h4><p>导出图层时，输出的坐标系将取决于以下参数设置：</p><ul><li><p><strong>源坐标系</strong>：指 <code>源坐标系</code>中设定的值或图层中的定义的值，若既未设定也未在图层中定义，则该参数为空</p><ul><li>优先级为：<code>设置值</code> &gt; <code>定义值</code> &gt; <code>空</code>；</li><li>在未设置 <code>目标坐标系</code>的情况下，源坐标系将作为输出坐标系；</li></ul></li><li><p><strong>目标坐标系</strong>：指用于和 <code>源坐标系</code> 一起构建投影变换的坐标系，使用前提是源坐标系不为空，默认为空；</p><ul><li>若成功构建投影变换，则输出的几何图形将被重新投影，目标坐标系将作为输出坐标系。</li></ul></li></ul><h4 id="数据转换说明" tabindex="-1"><a class="header-anchor" href="#数据转换说明" aria-hidden="true">#</a> 数据转换说明</h4><p><code>AutoCAD</code> 数据结构和 <code>GIS</code> 数据结构有较大差异，这导致二者不可能无损转换，以下是一些关于转换的细节：</p><ol><li>块可以被解析为多边形用于多部件数据交互，这种解析的前提是块可以被正常分解，也就是块的XYZ比例需一致的才行</li><li><code>KML</code> 格式较灵活，不同软件的解析方式各不相同，实际显示效果可能有差别，属正常现象，使用时尽量用 <code>KMZ</code> 格式</li></ol><h2 id="格式说明" tabindex="-1"><a class="header-anchor" href="#格式说明" aria-hidden="true">#</a> 格式说明</h2><h4 id="shp" tabindex="-1"><a class="header-anchor" href="#shp" aria-hidden="true">#</a> SHP</h4><ul><li><p><code>SHP</code> 字符串最长支持254，超过部分会被截断；</p></li><li><p>构成 <code>SHP</code> 的各个文件，单文件大小不能超过2GB；</p></li><li><p><code>SHP</code> 乱码可参考 <code>常见问题</code> &gt; <code>关于乱码</code>。</p></li></ul><hr><h4 id="kml" tabindex="-1"><a class="header-anchor" href="#kml" aria-hidden="true">#</a> KML</h4><ul><li>导出为 <code>kmz</code> 时，若图层名包含中文字符，可能导致无法读取该图层，可用解压软件打开 <code>kmz</code> 文件，将其中的 <code>kml</code> 解压后加载；</li><li><code>KML</code> 不限制要素类型，同一个图层可同时存放点线面要素，为规范操作，本软件取图层中的第一个要素类型作为图层要素类型；</li><li><code>KML</code> 将坐标存储为基于 <code>WGS84 (EPSG:4326)</code> 数据的经纬度值，这是 <code>KML</code> 唯一支持的坐标系： <ul><li><p>导出 <code>KML</code> 时，必须指定当前数据的坐标系，以确保投影转换能正确执行。设置投影的方法参见 <code>空间分析 &gt; 空间参考</code> ，同时也可以在输出界面选择 <code>坐标系</code> 来设置。</p></li><li><p>加载 <code>KML</code> 时，默认会将图层坐标系视为<code>WGS84</code>，并在此基础上进行投影转换。</p></li></ul></li></ul><hr><h4 id="gdb" tabindex="-1"><a class="header-anchor" href="#gdb" aria-hidden="true">#</a> GDB</h4><ul><li><p>字段名称限制为 64 个字符；</p></li><li><p>所有不满足该规则的图层名会被调整，具体规则如下：</p><ul><li>名称必须以汉字或字母开头；</li><li>名称不应包含空格；</li><li>最多包含 64 个字符；</li></ul></li><li><p><code>GDB</code> 支持常规弧段，椭圆和样条曲线则转为近似点取样线段。</p></li></ul><hr><h4 id="csv" tabindex="-1"><a class="header-anchor" href="#csv" aria-hidden="true">#</a> CSV</h4><ul><li>若要在输出 <code>CSV</code> 文件时保存图形信息，可勾选输出 <code>WKT</code> 字段，该字段会保存图元的几何信息，这种带几何信息的 <code>CSV</code> 文件被称为 <code>GeoCSV</code>。</li><li>当输出为 <code>GeoCSV</code> 时，会创建同名且后缀为 <code>csvt</code> 的字段描述文件，若删除该文件，则所有字段会被按照字符串读取。</li><li>当输出为 <code>GeoCSV</code> 时，若指定了 <a href="#%E7%A9%BA%E9%97%B4%E5%8F%82%E8%80%83"><code>空间参考</code></a>，会创建同名且后缀为 <code>prj</code> 投影文件，这点和 <code>shp</code> 相同。</li><li><code>CSV</code> 可以用文本编辑器直接打开并修改，这点类似于 <code>KML</code> 和 <code>GeoJSON</code>。</li></ul><h2 id="土地报备" tabindex="-1"><a class="header-anchor" href="#土地报备" aria-hidden="true">#</a> 土地报备</h2><p>勘测定界、土地报件、增减挂钩、开发整理等需要地块上报的项目经常需要将矢量数据转换 <code>txt</code> 报备格式，该功能按照《勘测定界界址点坐标交换格式》设计，主要用于报备数据的导入导出，其格式大致如下：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>  [属性描述]
  格式版本号=
  数据产生单位=
  数据产生日期=
  坐标系=
  几度分带=
  投影类型=
  计量单位=
  带号=
  精度=
  转换参数=X平移,Y平移,Z平移,X旋转,Y旋转,Z旋转,尺度参数
  [地块坐标]
  界址点数,地块面积,地块编号,地块名称,记录图形属性(点、线、面),图幅号,地块用途,地类编码,@
  点号,地块圈号,X坐标,Y坐标
        ...
  点号,地块圈号,X坐标,Y坐标
  界址点数,地块面积,地块编号,地块名称,记录图形属性(点、线、面),图幅号,地块用途,地类编码,@
  点号,地块圈号,X坐标,Y坐标
        ...
  点号,地块圈号,X坐标,Y坐标
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="导入土地报备数据" tabindex="-1"><a class="header-anchor" href="#导入土地报备数据" aria-hidden="true">#</a> 导入土地报备数据</h4><p>命令 <code>BBDR</code>，可选是否交换XY坐标，导入后地块属性映射到属性表</p><p><img src="`+h+'" alt="image"></p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>可选择多个 <code>txt</code> 同时导入，默认构建文件同名图层。</li><li>属性导入到对应字段中，可自由修改。</li></ul></div><h4 id="导出土地报备数据" tabindex="-1"><a class="header-anchor" href="#导出土地报备数据" aria-hidden="true">#</a> 导出土地报备数据</h4><p>命令 <code>BBDC</code>，按需求进行设置，再选择需要导出的图形即可</p><p><img src="'+p+'" alt="image"></p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>导入导出均支持多部件，导入时多部件面转换为由闭合多段线构成的块，同样可构建多部件块用于导出。</p></div>',60),g=[u];function v(b,_){return o(),t("div",null,g)}const G=i(m,[["render",v],["__file","01data.html.vue"]]);export{G as default};
