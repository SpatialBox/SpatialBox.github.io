import{_ as a}from"./0ok-181835d1.js";import{_ as c,r as o,o as l,c as i,b as s,d as n,e,a as t}from"./app-c80e1060.js";const d="/assets/0大影像_添加-0dee8b62.png",u="/assets/0大影像_移除-e6c232ff.png",g="/assets/o导出影像-b9549507.png",r="/assets/0大影像_格式-4e37d951.png",k="/assets/0栅格裁剪_顺序-77d2f9ff.png",m="/assets/0影像裁剪_设置-6bfa4068.png",h="/assets/0大影像_合并-0af02e51.png",v="/assets/0大影像_金字塔-10bd1041.png",_="/assets/0在线地图_示例-89ebcf58.png",b="/assets/0在线地图_分辨率对齐-0c0072a6.png",f="/assets/0在线地图_自定义图源-5be65b1b.png",x="/assets/0在线地图_添加图源-b682b162.png",A="/assets/0在线地图_选项-66e272de.png",E="/assets/0在线地图_动态投影-501ad0ce.png",w="/assets/0在线地图_下载-e5722608.png",y="/assets/0在线地图_下载界面-358e9119.png",q="/assets/0在线地图_批量下载-cb281206.png",M="/assets/0在线地图_区域-b653fa4f.png",G={},L=t('<h1 id="栅格工具" tabindex="-1"><a class="header-anchor" href="#栅格工具" aria-hidden="true">#</a> 栅格工具</h1><p>栅格工具主要有 <code>大影像</code>、<code>光栅图像</code>、<code>在线地图</code> 三种，适用场景各有不同：</p><table><thead><tr><th>类型</th><th>适用场景</th></tr></thead><tbody><tr><td>大影像</td><td>不受 <code>CAD</code> 格式限制，可加载较大尺寸的影像，适合 <code>CAD</code> 无法加载的场景</td></tr><tr><td>光栅图像</td><td>是对光栅功能的扩展，只可加载 <code>CAD</code> 支持的格式，适合较多的小幅影像，支持打印</td></tr><tr><td>在线地图</td><td>获取在线地图，动态绘制到绘图区，适合即时浏览、套图、下载等场景</td></tr></tbody></table><h2 id="大影像" tabindex="-1"><a class="header-anchor" href="#大影像" aria-hidden="true">#</a> 大影像</h2><p><code>CAD</code> 本身可通过 <code>光栅图像</code> 或 <code>OLE</code> 加载栅格数据，但这两种方式都有局限性，面对动辄几十上百G的空间栅格数据显得捉襟见肘，较为主流的方式是将影像裁剪为小图幅瓦片，按需要加载，但这种方式操作比较繁琐，使用上也多有不便，这时候可通过 <code>大影像</code> 功能来加载影像，目前支持的格式如下：</p><table><thead><tr><th>名称</th><th>后缀</th><th>读</th><th>写</th><th>说明</th></tr></thead><tbody><tr><td><code>GTIFF</code></td><td><code>tif</code> <code>tiff</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>HFA</code></td><td><code>img</code> <code>ige</code> <code>rde</code> <code>rrd</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>GPKG</code></td><td><code>gpkg</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>VRT</code></td><td><code>vrt</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>JP2OpenJPEG</code></td><td><code>jp2</code> <code>j2k</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>PNG</code></td><td><code>png</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>Rasterlite</code></td><td><code>sqlite</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>MBTile</code></td><td><code>mbtiles</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>MFF</code></td><td><code>hdr</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr><tr><td><code>EHDR</code></td><td><code>bil</code></td><td><img src="'+a+'" alt="image"></td><td><img src="'+a+'" alt="image"></td><td></td></tr></tbody></table><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li><code>大影像</code> 并非指影像非得要多大，只是系列功能的名称，系列功能还包括 <code>栅格分割</code> <code>合并</code> <code>构建影像金字塔</code> 等，结合CAD本身的 <code>光栅图像</code> ，实现更全面的栅格数据支持。</li></ul></div><h3 id="加载影像" tabindex="-1"><a class="header-anchor" href="#加载影像" aria-hidden="true">#</a> 加载影像</h3><p>命令 <code>GIMG</code>，或通过 <code>影像 &gt; 右键菜单 &gt; 添加影像</code> 加载。</p><p><img src="'+d+'" alt="image"></p><h3 id="移除影像" tabindex="-1"><a class="header-anchor" href="#移除影像" aria-hidden="true">#</a> 移除影像</h3><p>命令 <code>CIMG</code> ，移除所有已加载的影像，或通过 <code>影像图层 &gt; 右键菜单 &gt; 移除</code> 移除单张影像。</p><p><img src="'+u+'" alt="image"></p><h3 id="导出影像" tabindex="-1"><a class="header-anchor" href="#导出影像" aria-hidden="true">#</a> 导出影像</h3><p><code>影像图层 &gt; 右键菜单 &gt; 导出 &gt; 选择目标格式 &gt; 确定 </code></p><p><img src="'+g+`" alt="image-20231123141602917"></p><p><code>保存选项</code> 中的可选参数如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>gdalwarp [-b|-srcband <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n</span><span class="token punctuation">&gt;</span></span>]... [-dstband <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n</span><span class="token punctuation">&gt;</span></span>]...
    [-s_srs <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>srs_def</span><span class="token punctuation">&gt;</span></span>] [-t_srs <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>srs_def</span><span class="token punctuation">&gt;</span></span>] [-ct <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>]
    [-to <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]... [-vshift | -novshift]
    [-s_coord_epoch <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>epoch</span><span class="token punctuation">&gt;</span></span>] [-t_coord_epoch <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>epoch</span><span class="token punctuation">&gt;</span></span>]
    [-order n | -tps | -rpc | -geoloc] [-et <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>err_threshold</span><span class="token punctuation">&gt;</span></span>]
    [-refine_gcps <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tolerance</span><span class="token punctuation">&gt;</span></span> [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>minimum_gcps</span><span class="token punctuation">&gt;</span></span>]]
    [-te <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xmin</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ymin</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xmax</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ymax</span><span class="token punctuation">&gt;</span></span>] [-te_srs <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>srs_def</span><span class="token punctuation">&gt;</span></span>]
    [-tr <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xres</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>yres</span><span class="token punctuation">&gt;</span></span>]|[-tr square] [-tap] [-ts <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>width</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>height</span><span class="token punctuation">&gt;</span></span>]
    [-ovr <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">&gt;</span></span>|AUTO|AUTO-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n</span><span class="token punctuation">&gt;</span></span>|NONE] [-wo <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]... [-ot Byte/Int16/...] [-wt Byte/Int16]
    [-srcnodata &quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>[ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>...]&quot;][-dstnodata &quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>[ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>...]&quot;]
    [-srcalpha|-nosrcalpha] [-dstalpha]
    [-r <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resampling_method</span><span class="token punctuation">&gt;</span></span>] [-wm <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>memory_in_mb</span><span class="token punctuation">&gt;</span></span>] [-multi] [-q]
    [-cutline <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>datasource</span><span class="token punctuation">&gt;</span></span>] [-cl <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layer</span><span class="token punctuation">&gt;</span></span>] [-cwhere <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expression</span><span class="token punctuation">&gt;</span></span>]
    [-csql <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>statement</span><span class="token punctuation">&gt;</span></span>] [-cblend <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dist_in_pixels</span><span class="token punctuation">&gt;</span></span>] [-crop_to_cutline]
    [-if <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>format</span><span class="token punctuation">&gt;</span></span>]... [-of <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>format</span><span class="token punctuation">&gt;</span></span>] [-co <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]... [-overwrite]
    [-nomd] [-cvmd <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta_conflict_value</span><span class="token punctuation">&gt;</span></span>] [-setci] [-oo <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]...
    [-doo <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18),N={href:"https://gdal.org/programs/gdalwarp.html#synopsis",target:"_blank",rel:"noopener noreferrer"},V=t('<p>该功能可转换栅格格式，遇到CAD光栅图像不支持的格式，可通过这种方式转换得到支持的格式。</p><p><img src="'+r+'" alt="image"></p><h3 id="影像裁剪" tabindex="-1"><a class="header-anchor" href="#影像裁剪" aria-hidden="true">#</a> 影像裁剪</h3><p>影像裁剪（分割）可将大影像分割为多张小影像，有两种模式：</p><p>单图裁剪：<code>影像图层 &gt; 右键菜单 &gt; 裁剪 &gt; 拾取用于裁剪的多边形 &gt; 选择目标格式 &gt; 确定</code></p><p>多图裁剪：命令 <code>CIMG</code>，可直接对多张图进行合并裁剪。</p><p><img src="'+k+'" alt="image-20231110003115372"></p><blockquote><ul><li>多图裁剪时，可勾选参与裁剪的图层，可多选图层进行拖动排序</li><li>输出将采取最顶部影像的分辨率，同时，位于上层的影像将覆盖下层</li></ul></blockquote><p><strong>影像裁剪设置</strong></p><p><img src="'+m+`" alt="image-20231110003531439"></p><p><code>其他选项</code> 中的可选参数如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>gdalwarp [-b|-srcband <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n</span><span class="token punctuation">&gt;</span></span>]... [-dstband <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n</span><span class="token punctuation">&gt;</span></span>]...
    [-s_srs <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>srs_def</span><span class="token punctuation">&gt;</span></span>] [-t_srs <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>srs_def</span><span class="token punctuation">&gt;</span></span>] [-ct <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>]
    [-to <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]... [-vshift | -novshift]
    [-s_coord_epoch <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>epoch</span><span class="token punctuation">&gt;</span></span>] [-t_coord_epoch <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>epoch</span><span class="token punctuation">&gt;</span></span>]
    [-order n | -tps | -rpc | -geoloc] [-et <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>err_threshold</span><span class="token punctuation">&gt;</span></span>]
    [-refine_gcps <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tolerance</span><span class="token punctuation">&gt;</span></span> [<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>minimum_gcps</span><span class="token punctuation">&gt;</span></span>]]
    [-te <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xmin</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ymin</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xmax</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ymax</span><span class="token punctuation">&gt;</span></span>] [-te_srs <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>srs_def</span><span class="token punctuation">&gt;</span></span>]
    [-tr <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xres</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>yres</span><span class="token punctuation">&gt;</span></span>]|[-tr square] [-tap] [-ts <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>width</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>height</span><span class="token punctuation">&gt;</span></span>]
    [-ovr <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">&gt;</span></span>|AUTO|AUTO-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>n</span><span class="token punctuation">&gt;</span></span>|NONE] [-wo <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]... [-ot Byte/Int16/...] [-wt Byte/Int16]
    [-srcnodata &quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>[ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>...]&quot;][-dstnodata &quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>[ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>...]&quot;]
    [-srcalpha|-nosrcalpha] [-dstalpha]
    [-r <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resampling_method</span><span class="token punctuation">&gt;</span></span>] [-wm <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>memory_in_mb</span><span class="token punctuation">&gt;</span></span>] [-multi] [-q]
    [-cutline <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>datasource</span><span class="token punctuation">&gt;</span></span>] [-cl <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layer</span><span class="token punctuation">&gt;</span></span>] [-cwhere <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>expression</span><span class="token punctuation">&gt;</span></span>]
    [-csql <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>statement</span><span class="token punctuation">&gt;</span></span>] [-cblend <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dist_in_pixels</span><span class="token punctuation">&gt;</span></span>] [-crop_to_cutline]
    [-if <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>format</span><span class="token punctuation">&gt;</span></span>]... [-of <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>format</span><span class="token punctuation">&gt;</span></span>] [-co <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]... [-overwrite]
    [-nomd] [-cvmd <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta_conflict_value</span><span class="token punctuation">&gt;</span></span>] [-setci] [-oo <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]...
    [-doo <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),I={href:"https://gdal.org/programs/gdalwarp.html#synopsis",target:"_blank",rel:"noopener noreferrer"},D=t('<div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>用于裁剪的图形，支持多部件、洞和曲线</li><li>该功能可结合 <code>矩形分幅</code> 功能使用，命名默认使用图幅号字段，可快速实现影像分割</li></ul></div><h3 id="影像合并" tabindex="-1"><a class="header-anchor" href="#影像合并" aria-hidden="true">#</a> 影像合并</h3><p>命令 <code>MIMG</code>，可将具有相同空间参考的影像合并到一起</p><p><img src="'+h+`" alt="image"></p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li>合并时列表上面的栅格会覆盖下面的栅格，拖动列表项可排序。</li><li>Vrt 是虚拟格式，保存的是对栅格的引用，不会实际存储像元值，可大大减小文件尺寸。</li><li>对于大量碎片化的影像，目标格式选择 Vrt 便于进行快速合并。</li></ul></div><p>可选参数如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>gdalbuildvrt [-tileindex <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>field_name</span><span class="token punctuation">&gt;</span></span>]
             [-resolution {highest|lowest|average|user}]
             [-te <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xmin</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ymin</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xmax</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ymax</span><span class="token punctuation">&gt;</span></span>] [-tr <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xres</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>yres</span><span class="token punctuation">&gt;</span></span>] [-tap]
             [-separate] [-b <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>band</span><span class="token punctuation">&gt;</span></span>]... [-sd <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>subdataset</span><span class="token punctuation">&gt;</span></span>]
             [-allow_projection_difference] [-q]
             [-addalpha] [-hidenodata]
             [-srcnodata &quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>[ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>]...&quot;] [-vrtnodata &quot;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>[ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>]...&quot;
             [-ignore_srcmaskband]
             [-a_srs <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>srs_def</span><span class="token punctuation">&gt;</span></span>]
             [-r {nearest|bilinear|cubic|cubicspline|lanczos|average|mode}]
             [-oo <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NAME</span><span class="token punctuation">&gt;</span></span>=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>VALUE</span><span class="token punctuation">&gt;</span></span>]...
             [-input_file_list <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filename</span><span class="token punctuation">&gt;</span></span>] [-overwrite]
             [-strict | -non_strict]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),U={href:"https://gdal.org/programs/gdalbuildvrt.html#synopsis",target:"_blank",rel:"noopener noreferrer"},C=t('<h3 id="构建金字塔" tabindex="-1"><a class="header-anchor" href="#构建金字塔" aria-hidden="true">#</a> 构建金字塔</h3><p>命令 <code>BOV</code>，影像有金字塔方能正常加载，该工具用于批量构建影像金字塔。</p><p><img src="'+v+'" alt="image"></p><blockquote><p>金字塔通过构建不同级别的缩略图来显著提高大影像浏览速度，代价是占用更多的磁盘空间</p></blockquote><h3 id="影像处理效率" tabindex="-1"><a class="header-anchor" href="#影像处理效率" aria-hidden="true">#</a> 影像处理效率</h3><ul><li><p>压缩栅格</p><p>栅格合并、裁剪和导出都有个 <strong>压缩方式</strong> 选项，该选项直接影响处理时间以及输出文件的大小，下面是执行相同任务时不同选项的差别，可供参考</p><table><thead><tr><th>压缩方式</th><th>耗时（秒）</th><th>输出文件（M）</th><th>备注</th></tr></thead><tbody><tr><td>不压缩</td><td>33</td><td>4526</td><td>无损</td></tr><tr><td>DEFLATE</td><td>120</td><td>2068</td><td>无损</td></tr><tr><td>JPEG</td><td>66</td><td>201</td><td>有损，默认压缩75</td></tr><tr><td>LZW</td><td>56</td><td>2682</td><td>无损</td></tr></tbody></table><p>对比可见，选用 LZW 压缩综合最优，若对输出文件大小有较高要求，可采取有损的 JPEG 压缩</p></li></ul><h2 id="光栅图像" tabindex="-1"><a class="header-anchor" href="#光栅图像" aria-hidden="true">#</a> 光栅图像</h2><p><code>CAD</code> 可以将光栅图像插入到指定位置，但不具备自动识别栅格定位文件的能力，加载时需要指定插入位置，费时费力，<code>光栅图像</code> 系列功能由此而来。</p><div class="custom-container warning"><p class="custom-container-title">性能提示</p><ul><li>加载栅格时若栅格在当前视图范围内，则会实时绘制图像，进度条会慢一些，好处是加载完即可正常缩放。若栅格未在视图范围内则加载速度会很快，但加载完成缩放至栅格时仍需要大量时间绘制图像。</li><li>受限于 <code>AutoCAD</code> 的栅格性能，图像过多或者过大都会导致卡顿，默认设置影像质量为低质量，以加快显示速度，若需要高质量可通过内置命令 <code>IMAGEQUALITY</code> 自行设置。</li><li>CAD不支持超过4G的图像，若大于4G，可裁剪后加载</li></ul></div><h3 id="加载栅格-选文件" tabindex="-1"><a class="header-anchor" href="#加载栅格-选文件" aria-hidden="true">#</a> 加载栅格（选文件）</h3><ul><li>命令 <code>AIMGF</code> ，自动识别栅格坐标信息（<code>tfw</code> <code>jpw</code>等）并插入到对应位置。</li><li>若栅格文件没有坐标信息，则将自动插入到原点。</li><li>可一次性选择大量栅格加载，考虑到性能问题，建议不要一次性超过100个</li></ul><h3 id="加载栅格-选图框" tabindex="-1"><a class="header-anchor" href="#加载栅格-选图框" aria-hidden="true">#</a> 加载栅格（选图框）</h3><ul><li>命令 <code>AIMG</code> ，图像由图框中的路径字段（<code>PATH</code>）决定，插入位置和大小<strong>由栅格坐标信息决定</strong>。</li><li>影像的插入位置和大小由栅格文件的坐标信息决定，和图框大小及位置无关</li><li>若要将图像缩放至图框大小，请参考 <code>加载栅格（适应图框）</code></li></ul><h3 id="加载栅格-适应图框" tabindex="-1"><a class="header-anchor" href="#加载栅格-适应图框" aria-hidden="true">#</a> 加载栅格（适应图框）</h3><ul><li>命令 <code>AIMB</code> ，按图框位置加载并缩放图像，图像由图框中的路径字段（<code>PATH</code>）决定，位置和大小<strong>由图框决定</strong>。</li><li>若图框不是正矩形，则取其包络矩形，该方法适合没有坐标信息的图片文件，可通过调整图框来配准。</li><li>结合 <code>保存栅格坐标信息</code> ，可将配准结果保存供其他程序调用。</li></ul><h3 id="移除栅格" tabindex="-1"><a class="header-anchor" href="#移除栅格" aria-hidden="true">#</a> 移除栅格</h3><ul><li>命令 <code>DIMG</code>，移除所有栅格。</li></ul><h3 id="构建栅格轮廓" tabindex="-1"><a class="header-anchor" href="#构建栅格轮廓" aria-hidden="true">#</a> 构建栅格轮廓</h3><ul><li>命令 <code>BIMGB</code>，批量生成所选栅格的轮廓，并将栅格路径等信息保存在字段中</li><li>当影像数量较多时，同时全部加载可能有性能障碍，这时候可以通过 <code>加载栅格（选文件）</code> 加载部分影像，构建其轮廓图框后移除栅格，多次操作后得到完整的影像结合图，图框中保存了栅格路径信息，在需要时选择对应图框加载即可。</li></ul><h3 id="保存栅格坐标文件" tabindex="-1"><a class="header-anchor" href="#保存栅格坐标文件" aria-hidden="true">#</a> 保存栅格坐标文件</h3><ul><li>命令 <code>SIMGW</code>，可将栅格数据当前的位置信息保存到坐标文件中。</li><li>在栅格数据中图像的每个像元都具有一个行号和列号，但并没有实际的坐标信息。要以真实世界坐标显示图像，需要建立一个行列号到坐标的变换以将图像坐标转换为真实世界坐标，栅格坐标文件就是存储这个变换参数。</li></ul><table><thead><tr><th>栅格数据文件</th><th>坐标文件</th></tr></thead><tbody><tr><td><code>image.tif</code></td><td><code>image.tfw</code> <code>image.tifw</code> <code>image.wld</code></td></tr><tr><td><code>image.jpg</code></td><td><code>image.jgw</code> <code>image.jpgw</code> <code>image.wld</code></td></tr><tr><td><code>image.png</code></td><td><code>image.pgw</code> <code>image.wld</code></td></tr></tbody></table><h3 id="栅格边框可见性" tabindex="-1"><a class="header-anchor" href="#栅格边框可见性" aria-hidden="true">#</a> 栅格边框可见性</h3><ul><li>命令 <code>FV</code> ，在显示和不显示栅格边框间切换。</li></ul><h2 id="在线地图" tabindex="-1"><a class="header-anchor" href="#在线地图" aria-hidden="true">#</a> 在线地图</h2><p>命令 <code>STM</code>，一款为 <code>AutoCAD</code> 定制的在线浏览和下载工具，可方便快捷的浏览在线地图，支持自定义图源，提供所见即所得的下载功能。</p><p><img src="'+_+'" alt="image"></p><h3 id="缩放和对齐" tabindex="-1"><a class="header-anchor" href="#缩放和对齐" aria-hidden="true">#</a> 缩放和对齐</h3><ul><li>缩放至图层：可缩放至当前图源范围。</li><li>缩放至分辨率：在浏览有文字的地图时，缩放至分辨率可将当前层级的地图和当前视图的分辨率对齐，以获得更好的文字显示效果。</li></ul><p><img src="'+b+'" alt="image"></p><ul><li>鼠标滚动对齐：对齐后，每次滚动滚轮均固定缩放一个层级的地图，浏览体验更好（实际上就是调整 <code>ZOOMFACTOR</code> 参数为 <code>100</code>)。</li></ul><h3 id="自定义图源" tabindex="-1"><a class="header-anchor" href="#自定义图源" aria-hidden="true">#</a> 自定义图源</h3><ul><li><p>点击图源下方的 <code>...</code> 可打开图源管理器，可添加、删除和修改图源；</p><p><img src="'+f+'" alt="image"></p></li><li><p>双击可编辑现有图源，点击新增可添加图源；</p><p><img src="'+x+'" alt="image"></p><blockquote><ul><li>支持 <code>XYZ</code> 图源，URL中分别用变量 <code>{x} {y} {z}</code> 替代 <code>x y z</code> 值， <code>{s}</code> 替代主机编号，<code>{q}</code> 替代 quadkey，<code>{k}</code> 替代 apikey</li><li>投影类型默认为墨卡托全球，若发现有偏移，可尝试切换为墨卡托中国</li><li>最大级别默认21，若发现缩放到一定级别提示此区域无卫星图，可将此值修改为有图显示的最高级别</li><li>历史影像在不同区域有不同的分辨率、覆盖率和时间节点，使用时需注意</li></ul></blockquote></li></ul><p>本软件只提供地图浏览功能，所有地图服务均由第三方提供，第三方地图服务是否有效和本软件无关</p><h3 id="地图浏览选项" tabindex="-1"><a class="header-anchor" href="#地图浏览选项" aria-hidden="true">#</a> 地图浏览选项</h3><p>选项可以设置地图的透明度、亮度、对比度，可以设置动态投影，将在线地图投影到需要的位置。</p><p><img src="'+A+'" alt="image"></p><ul><li>置顶显示：地图默认是居于最底层显示，勾后将置顶显示；</li><li>显示设置：可设置地图的透明度，亮度，对比度，边框，图号；</li><li>等级限制：设置最大缩放级别，超过该级别的地图将不予显示（可用于限制“此区域无卫星图”的显示）；</li></ul><h3 id="地图投影" tabindex="-1"><a class="header-anchor" href="#地图投影" aria-hidden="true">#</a> 地图投影</h3><p>在线地图默认使用 <code>WebMercator</code> 投影，该投影具有最佳的浏览性能，可根据实际需要设置其他投影</p><p><img src="'+E+'" alt="image-20230925142310206"></p><ul><li><p>动态投影会对显示性能有一定影响</p></li><li><p>显示范围可绘制当前坐标系的大致有效范围，可供参考</p></li><li><p>若定义了投影坐标系，超出投影范围的地图将不显示</p><blockquote><p>若出现低级别时显示，放大到一定程度后不显示的，均属于这种情况，可通过自定义坐标系，设置合适的中央经线解决</p></blockquote></li><li><p>并不是所有坐标系都支持动态投影，使用时注意检查精度</p></li></ul><h3 id="地图下载" tabindex="-1"><a class="header-anchor" href="#地图下载" aria-hidden="true">#</a> 地图下载</h3><ul><li><p><code>选择图源 &gt; 下载地图</code></p><p><img src="'+w+'" alt="image"></p></li><li><p><code>绘制/拾取要下载的范围 &gt; 勾选下载级别 &gt; 选择保存位置和格式 &gt; 开始下载</code>，等待下载完成即可。</p><p><img src="'+y+'" alt="image"></p></li><li><p>若要一次下载多个范围，可提前准备好图框（闭合多段线，可通过命令 <code>GGG</code> 绘制），通过 <code>批量下载</code> 执行选择操作，若所选图框不止一个，选项中会提示设置下载命名字段，设置好字段后，若所选图形有该字段值，则导出的地图会按字段值命名，路径不变。</p><p><img src="'+q+'" alt="image"></p></li><li><p>使用提示</p><ul><li>地图下载器不限制速度、不限制下载范围和下载级别，能看就能下，所见即所得；</li><li>下载时若定义了动态投影，则下载完成的地图也会按此投影定义；</li><li>不宜一次执行过大下载范围和过高地图级别的下载，若有大范围下载需求，可设置好图框后，批量下载；</li><li>部分图源在不同地区有不同的等级，下载时请确保所选等级的可用性；</li><li>使用 <code>墨卡托中国</code> 校正的地图，精度会有一定损失，地图级别越低，精度损失越大；</li></ul></li></ul><div class="custom-container warning"><p class="custom-container-title">提示</p><ul><li>地图只适用于模型空间，只有鼠标滚轮拖动和缩放地图可触发地图刷新，若屏幕未及时刷新，可略微拖动地图触发刷新；</li><li>低版本 <code>CAD</code> 可能会提示已无法进一步缩放，此时用命令 <code>REGEN</code> 刷新即可；</li><li>地图经过投影转换，使用前请检查其精度；</li><li>部分图源在切换后若有部分瓦片没刷新的情况，可手动清理缓存；</li><li>若拖动地图时感觉卡顿，可尝试在 <code>CAD</code> 选项中开启硬件加速：<code>Option &gt; 系统 &gt; 图形性能 &gt; 开启硬件加速</code>。</li></ul></div><h3 id="行政区域" tabindex="-1"><a class="header-anchor" href="#行政区域" aria-hidden="true">#</a> 行政区域</h3><p><code>在线地图</code> &gt; <code>区域</code>，提供全国区县及以上行政区域的边界浏览、地图下载功能</p><p><img src="'+M+'" alt="image-20230917112307699"></p><p>关于界线：</p><ul><li>界线使用和当前在线地图一致的坐标系统</li><li>界线默认加载为多部件块，可通过命令 <code>XX</code> 拆分为多段线</li><li>双击区县级节点可自动加载界线，未被当前窗口范围包含的界线，加载后提示缩放</li></ul>',50);function T(O,B){const p=o("ExternalLinkIcon");return l(),i("div",null,[L,s("p",null,[n("具体参见 "),s("a",N,[n("gdalwarp — GDAL documentation"),e(p)])]),V,s("p",null,[n("具体参见 "),s("a",I,[n("gdalwarp — GDAL documentation"),e(p)])]),D,s("p",null,[n("具体参见 "),s("a",U,[n("gdalbuildvrt — GDAL documentation"),e(p)])]),C])}const R=c(G,[["render",T],["__file","04Raster.html.vue"]]);export{R as default};
